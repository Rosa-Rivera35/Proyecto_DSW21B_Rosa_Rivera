<!DOCTYPE html> 
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulador de Colisiones (El√°sticas e Inel√°sticas)</title>

<style>
  /* ======== ESTILO GENERAL ======== */
  body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to bottom right, #e3f2fd, #fce4ec);
    color: #222;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  /* ======== ENCABEZADO ======== */
  header {
    width: 100%;
    background: #ffffffcc;
    backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 15px 25px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 10;
  }

  header img {
    height: 47px;
    width: auto;
    margin-right: 15px;
  }

  header h2 {
    margin: 0;
    color: #003366;
    font-size: 1.8em;
  }

  /* ======== CONTENEDOR PRINCIPAL ======== */
  main {
    width: 100%;
    max-width: 1100px;
    padding: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
  }

  /* ======== PANEL IZQUIERDO (CANVAS + RESULTADOS) ======== */
  .left-panel {
    flex: 2 1 650px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .canvas-card {
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    padding: 20px;
    text-align: center;
  }

  canvas {
    width: 100%;
    height: auto;
    background: #fafafa;
    border-radius: 10px;
  }

  .resultados-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(8px);
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    padding: 20px;
    text-align: center;
  }

  .resultados-card h3 {
    color: #0077c2;
    margin-top: 0;
    margin-bottom: 10px;
  }

  #salida {
    background: #ffffff;
    border-radius: 10px;
    padding: 10px;
    text-align: center;
    min-height: 80px;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.1);
  }

  /* ======== PANEL DE CONTROLES ======== */
  .side-panel {
    flex: 1 1 330px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    padding: 20px;
    transition: transform 0.3s ease;
  }

  .card:hover {
    transform: translateY(-3px);
  }

  .card h3 {
    text-align: center;
    color: #0077c2;
    margin-top: 0;
    margin-bottom: 15px;
  }

  label {
    font-weight: 500;
    color: #003366;
    display: block;
    margin-top: 10px;
  }

  input, select {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 1em;
  }

  button {
    width: 100%;
    padding: 10px;
    background: #0077c2;
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: bold;
    margin-top: 15px;
    cursor: pointer;
    transition: 0.3s;
  }

  button:hover {
    background: #005b99;
  }

  footer {
    text-align: center;
    color: #555;
    font-size: 0.9em;
    padding: 15px;
    margin-top: 30px;
  }

  @media (max-width: 900px) {
    main {
      flex-direction: column;
      align-items: center;
    }
    header h2 {
      font-size: 1.4em;
    }
  }
</style>
</head>

<body>

  <!-- ======== ENCABEZADO ======== -->
  <header>
    <a href="index.html">
      <img src="img/Itca.png" alt="Logo ITCA-FEPADE" style="cursor:pointer;">
    </a>
    <h2>üí• Simulador de Colisiones El√°sticas e Inel√°sticas</h2>
  </header>

  <!-- ======== CONTENIDO ======== -->
  <main>
    <div class="left-panel">
      <div class="canvas-card">
        <canvas id="canvas" width="700" height="250"></canvas>
      </div>

      <div class="resultados-card">
        <h3>üìä Resultados</h3>
        <div id="salida">‚Äî</div>
      </div>
    </div>

    <div class="side-panel">
      <div class="card">
        <h3>üîß Par√°metros</h3>
        <label>m‚ÇÅ (kg): <input type="number" id="m1" value="1" step="0.1"></label>
        <label>v‚ÇÅ inicial (m/s): <input type="number" id="v1i" value="2" step="0.1"></label>
        <label>m‚ÇÇ (kg): <input type="number" id="m2" value="1" step="0.1"></label>
        <label>v‚ÇÇ inicial (m/s): <input type="number" id="v2i" value="-1" step="0.1"></label>
        <label>Tipo de colisi√≥n:
          <select id="tipoColision">
            <option value="elastica">El√°stica</option>
            <option value="inelastica">Inel√°stica (choque juntos)</option>
          </select>
        </label>
        <label>Tipo de c√°lculo:
          <select id="tipoCalculo">
            <option value="velocidad">Velocidad</option>
            <option value="momento">Momento lineal</option>
            <option value="energia">Energ√≠a cin√©tica</option>
          </select>
        </label>
        <button onclick="iniciar()">‚ñ∂ Iniciar</button>
        <button onclick="reiniciar()">üîÑ Reiniciar</button>
      </div>
    </div>
  </main>

  <footer>
    ¬© <span id="year"></span> Simulador ‚Äî Rosa Rivera
  </footer>

  <!-- ======== SCRIPT ======== -->
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    let animFrame = null;

    function iniciar() {
      cancelarAnimacion();
      const m1 = parseFloat(document.getElementById('m1').value);
      const v1i = parseFloat(document.getElementById('v1i').value);
      const m2 = parseFloat(document.getElementById('m2').value);
      const v2i = parseFloat(document.getElementById('v2i').value);
      const tipo = document.getElementById('tipoColision').value;
      const calculo = document.getElementById('tipoCalculo').value;

      let v1f, v2f;
      if (tipo === 'elastica') {
        v1f = ((m1 - m2)*v1i + 2*m2*v2i) / (m1 + m2);
        v2f = ((m2 - m1)*v2i + 2*m1*v1i) / (m1 + m2);
      } else {
        const vf = (m1*v1i + m2*v2i) / (m1 + m2);
        v1f = v2f = vf;
      }

      let texto = `<h4>${tipo === 'elastica' ? 'Colisi√≥n El√°stica' : 'Colisi√≥n Inel√°stica'}</h4>`;
      if (calculo === 'velocidad') {
        texto += `v‚ÇÅ inicial = ${v1i.toFixed(2)} m/s<br>
                  v‚ÇÇ inicial = ${v2i.toFixed(2)} m/s<br>
                  v‚ÇÅ final = ${v1f.toFixed(2)} m/s<br>
                  v‚ÇÇ final = ${v2f.toFixed(2)} m/s`;
      } else if (calculo === 'momento') {
        const pIni = m1*v1i + m2*v2i;
        const pFin = m1*v1f + m2*v2f;
        texto += `Momento antes = ${pIni.toFixed(2)} kg¬∑m/s<br>
                  Momento despu√©s = ${pFin.toFixed(2)} kg¬∑m/s`;
      } else {
        const Ei = 0.5*m1*v1i*v1i + 0.5*m2*v2i*v2i;
        const Ef = 0.5*m1*v1f*v1f + 0.5*m2*v2f*v2f;
        texto += `Energ√≠a antes = ${Ei.toFixed(2)} J<br>
                  Energ√≠a despu√©s = ${Ef.toFixed(2)} J`;
      }
      document.getElementById('salida').innerHTML = texto;

      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      let x1 = 150, x2 = 500;
      const r1 = 20 + m1*5, r2 = 20 + m2*5;
      let v1 = v1i * 5, v2 = v2i * 5;
      let choque = false;

      function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.beginPath(); ctx.arc(x1,125,r1,0,2*Math.PI); ctx.fillStyle="#e74c3c"; ctx.fill();
        ctx.beginPath(); ctx.arc(x2,125,r2,0,2*Math.PI); ctx.fillStyle="#2ecc71"; ctx.fill();

        const d = x2 - x1;
        if (!choque && d <= r1 + r2) {
          v1 = v1f * 5;
          v2 = v2f * 5;
          choque = true;
        }
        if (tipo === 'inelastica' && choque) {
          const vf = v1;
          x1 += vf; x2 = x1 + (r1 + r2 - 2);
        } else {
          x1 += v1;
          x2 += v2;
        }
        if (x1 < -50 || x2 > canvas.width + 50) return;
        animFrame = requestAnimationFrame(draw);
      }
      draw();
    }

    function reiniciar() {
      cancelarAnimacion();
      const ctx = document.getElementById('canvas').getContext('2d');
      ctx.clearRect(0,0,700,250);
      document.getElementById('salida').innerHTML = '‚Äî';
    }

    function cancelarAnimacion() {
      if (animFrame) { cancelAnimationFrame(animFrame); animFrame = null; }
    }
  </script>
</body>
</html>
